<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Earth's Enigmas Co. — Records Terminal</title>

<style>
:root{
  --bg:#07090c;
  --panel:#0d1117;
  --ink:#e8eef7;
  --muted:#9fb0c4;
  --line:#1c2532;
  --accent:#74d3ff;
  --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  --radius:18px;
}

*{box-sizing:border-box}
body{
  margin:0;
  background:radial-gradient(1000px 600px at 20% 10%, rgba(116,211,255,.08), transparent 60%),var(--bg);
  color:var(--ink);
  font-family:system-ui, -apple-system, Segoe UI, Roboto;
}

/* Prevent any pre-animation text from showing */
.prehide{ visibility:hidden; }

/* HEADER */
header{
  padding:40px 28px 18px;
  border-bottom:1px solid var(--line);
  backdrop-filter:blur(8px);
}

.mainLogo{display:flex;justify-content:center;align-items:center}
.mainLogo img{
  height:240px;
  width:auto;
  object-fit:contain;
  filter:drop-shadow(0 14px 40px rgba(0,0,0,.55));
}

main{max-width:1200px;margin:60px auto;padding:0 28px 120px}

.card{
  background:linear-gradient(180deg, rgba(13,17,23,.92), rgba(10,14,19,.92));
  border:1px solid var(--line);
  border-radius:var(--radius);
  padding:22px;
  margin-bottom:28px;
}

.title{
  font-family:var(--mono);
  font-size:12px;
  letter-spacing:.8px;
  text-transform:uppercase;
  color:var(--muted);
  margin-bottom:18px;
}

.console{
  font-family:var(--mono);
  font-size:12px;
  line-height:1.7;
  white-space:pre-wrap;
}

.notice{margin-top:18px;font-family:var(--mono);font-size:12px}
.phone{margin-top:6px;color:var(--accent);letter-spacing:2px;font-family:var(--mono)}

/* SPLIT LAYOUT */
.split{display:grid;grid-template-columns:1fr 1fr;gap:28px}
@media(max-width:900px){.split{grid-template-columns:1fr}}

/* right column stack */
.col{display:grid;gap:28px}

/* EVENT LOG */
.logList{font-family:var(--mono);font-size:12px;line-height:1.7}
.logRow{margin-bottom:10px}
.logDate{color:var(--accent)}
.alertLine{margin-top:16px;color:#cfd9e6}

/* ENTITY REGISTRY */
.entityList{
  list-style:none;
  padding:0;
  margin:0;
  display:grid;
  gap:12px;
  font-family:var(--mono);
  font-size:13px;
}
.entityItem{
  padding:14px;
  border-radius:14px;
  border:1px solid var(--line);
  background:rgba(7,9,12,.45);
  line-height:1.6;
  opacity:0; /* will fade in with LED */
}
.entityId{color:var(--accent)}
.entityStatus{color:var(--muted)}

/* MAP */
.mapWrap{
  border:1px solid var(--line);
  background:rgba(7,9,12,.45);
  border-radius:14px;
  padding:14px;
}
.mapFrame{
  width:100%;
  height:auto;
  display:block;
}
.mapLand{fill:rgba(232,238,247,.08);stroke:rgba(116,211,255,.10);stroke-width:2}
.mapGrid{stroke:rgba(159,176,196,.10);stroke-width:1}

.dotRed{fill:#ff6b6b}
.dotGreen{fill:#b6ff8a}

@keyframes dotPulse{
  0%{transform:scale(1);opacity:.85}
  50%{transform:scale(1.55);opacity:.45}
  100%{transform:scale(1);opacity:.85}
}

.mapDot{
  transform-box: fill-box;
  transform-origin:center;
  animation: dotPulse 2.6s ease-in-out infinite;
}

.mapDot:nth-child(1){animation-delay:0ms}
.mapDot:nth-child(2){animation-delay:180ms}
.mapDot:nth-child(3){animation-delay:360ms}
.mapDot:nth-child(4){animation-delay:540ms}
.mapDot:nth-child(5){animation-delay:720ms}
.mapDot:nth-child(6){animation-delay:900ms}
.mapDot:nth-child(7){animation-delay:1080ms}
.mapDot:nth-child(8){animation-delay:1260ms}
.mapDot:nth-child(9){animation-delay:1440ms}
.mapDot:nth-child(10){animation-delay:1620ms}
.mapDot:nth-child(11){animation-delay:1800ms}
.mapDot:nth-child(12){animation-delay:1980ms}

/* FOOTER WITH PRODUCTION LOGO (BOTTOM RIGHT) */
footer{
  position:relative;
  max-width:1200px;
  margin:0 auto;
  padding:40px 28px 60px;
  font-family:var(--mono);
  font-size:11px;
  color:var(--muted);
}
.prodFooterLogo{position:absolute;bottom:20px;right:28px}
.prodFooterLogo img{
  height:120px;
  width:auto;
  object-fit:contain;
  filter:drop-shadow(0 10px 30px rgba(0,0,0,.5));
}

/* =============================
   ANIMATIONS
   ============================= */
@keyframes ledFlicker {
  0%   { opacity:0; filter:brightness(0) drop-shadow(0 0 0 rgba(0,0,0,0)); transform:translateY(-2px); }
  6%   { opacity:1; filter:brightness(1.9) drop-shadow(0 0 16px rgba(116,211,255,.22)); }
  10%  { opacity:.15; filter:brightness(.6); }
  16%  { opacity:1; filter:brightness(2.2); }
  22%  { opacity:.35; filter:brightness(.85); }
  30%  { opacity:1; filter:brightness(1.4); }
  100% { opacity:1; filter:brightness(1); transform:translateY(0); }
}

.ledOn{ animation: ledFlicker 700ms ease-out both; }
.delay150{animation-delay:150ms}
.delay300{animation-delay:300ms}

/* Typed cursor */
.typeCursor::after{content:"▍";margin-left:2px;opacity:1;animation: blink 700ms steps(1,end) infinite}
@keyframes blink{50%{opacity:0}}

@media (prefers-reduced-motion: reduce){
  .ledOn{animation:none}
  .typeCursor::after{animation:none}
  .mapDot{animation:none}
}

@media (max-width: 480px){
  .mainLogo img{ height:180px; }
  .prodFooterLogo img{ height:90px; }
}
</style>
</head>

<body>

<header>
  <div class="mainLogo">
    <img id="logoEEC" class="ledOn" src="eec-logo.png" alt="Earth's Enigmas Co. Logo">
  </div>
</header>

<main>

<!-- TOP PURPOSE BOX -->
<div class="card">
  <div class="title prehide" id="t_directive">Company Directive · 2021</div>
  <div class="console prehide" id="t_console">
Earth's Enigmas Co. operates as a global anomaly location and containment unit.

Our objective is the identification, pursuit, and neutralization of emergent biological, atmospheric, and structural irregularities.

All anomalous activity is to be documented, contained, and reclassified for public safety.
  </div>
  <div class="notice prehide" id="t_notice">Please report any anomalies found to the provided database.</div>
  <div class="phone prehide" id="t_phone">—</div>
</div>

<div class="split">

  <!-- LEFT: EVENT LOG -->
  <div class="card">
    <div class="title prehide" id="t_eventTitle">Event Log · 2021 Internal Monitoring</div>
    <div class="logList prehide" id="eventLog" aria-label="Event log"></div>
  </div>

  <!-- RIGHT: STACKED COLUMN -->
  <div class="col">

    <div class="card">
      <div class="title prehide" id="t_registryTitle">Corrupted Entity Registry</div>
      <ul class="entityList" id="entityList" aria-label="Entity registry"></ul>
    </div>

    <div class="card">
      <div class="title prehide" id="t_mapTitle">Global Incident Map · 2021</div>
      <div class="mapWrap prehide" id="mapWrap">
        <svg class="mapFrame" viewBox="0 0 1000 500" role="img" aria-label="Global incident map">
          <!-- grid -->
          <g opacity="0.9">
            <path class="mapGrid" d="M0 250 H1000" />
            <path class="mapGrid" d="M0 125 H1000" />
            <path class="mapGrid" d="M0 375 H1000" />
            <path class="mapGrid" d="M250 0 V500" />
            <path class="mapGrid" d="M500 0 V500" />
            <path class="mapGrid" d="M750 0 V500" />
          </g>

          <!-- very simplified land masses (stylized) -->
          <path class="mapLand" d="M85 170 C150 120, 260 115, 290 170 C320 220, 285 270, 215 285 C150 300, 80 260, 70 220 C60 190, 65 185, 85 170 Z"/>
          <path class="mapLand" d="M280 280 C330 260, 380 280, 400 330 C420 385, 380 430, 330 420 C290 410, 260 360, 270 320 C275 300, 270 290, 280 280 Z"/>
          <path class="mapLand" d="M470 155 C520 110, 600 105, 655 135 C720 170, 725 220, 675 245 C620 275, 560 265, 535 240 C510 215, 500 205, 470 190 C450 180, 450 170, 470 155 Z"/>
          <path class="mapLand" d="M605 265 C650 250, 705 270, 725 310 C745 355, 720 400, 670 395 C620 390, 585 345, 590 305 C593 285, 592 275, 605 265 Z"/>
          <path class="mapLand" d="M770 300 C820 275, 900 295, 930 345 C960 395, 920 445, 850 440 C790 435, 740 380, 750 335 C755 320, 755 310, 770 300 Z"/>

          <!-- dots (12 total). One green in the UK. 11 red worldwide -->
          <!-- NOTE: Dots are ordered so nth-child delays apply consistently (we wrap dots in a group) -->
          <g>
            <circle class="mapDot dotGreen" cx="495" cy="165" r="6" /> <!-- UK (green) -->
            <circle class="mapDot dotRed" cx="220" cy="190" r="6" /> <!-- US West -->
            <circle class="mapDot dotRed" cx="300" cy="205" r="6" /> <!-- US East -->
            <circle class="mapDot dotRed" cx="340" cy="330" r="6" /> <!-- Brazil -->
            <circle class="mapDot dotRed" cx="610" cy="320" r="6" /> <!-- North Africa -->
            <circle class="mapDot dotRed" cx="675" cy="345" r="6" /> <!-- East Africa -->
            <circle class="mapDot dotRed" cx="735" cy="215" r="6" /> <!-- Russia -->
            <circle class="mapDot dotRed" cx="705" cy="275" r="6" /> <!-- Middle East -->
            <circle class="mapDot dotRed" cx="790" cy="275" r="6" /> <!-- India -->
            <circle class="mapDot dotRed" cx="850" cy="245" r="6" /> <!-- China -->
            <circle class="mapDot dotRed" cx="900" cy="260" r="6" /> <!-- Japan -->
            <circle class="mapDot dotRed" cx="870" cy="395" r="6" /> <!-- Australia -->
          </g>
        </svg>
      </div>
    </div>

  </div>

</div>

</main>

<footer>
© 2021 Earth's Enigmas Co. · Internal Records Terminal

<div class="prodFooterLogo">
  <img id="logoProd" class="ledOn delay300" src="eec-logo2.png" alt="Production Studio Logo">
</div>
</footer>

<script>
/* =============================
   DATA
   ============================= */
const ENTITIES=[
  {id:"EEC-ENT-0001",name:"████_██",status:"SEALED"},
  {id:"EEC-ENT-0014",name:"███-███",status:"MISSING"},
  {id:"EEC-ENT-0029",name:"[DATA CORRUPTED]",status:"CONTAINED"},
  {id:"EEC-ENT-0033",name:"██/██/██",status:"QUARANTINED"},
  {id:"EEC-ENT-0041",name:"NEMO_03",status:"ACTIVE MONITORING"}
];

const EVENT_LOG=[
  {date:"2021-02-03", text:"Facility power fluctuation detected in Sub-Level B."},
  {date:"2021-02-17", text:"Thermal signatures recorded in restricted corridor after hours."},
  {date:"2021-03-01", text:"Security footage distortion between 02:11 and 02:16."},
  {date:"2021-03-19", text:"Equipment calibration failure during routine diagnostics."},
  {date:"2021-04-07", text:"Staff reported auditory anomaly in storage wing."},
  {date:"2021-04-28", text:"Motion sensors triggered with no visible presence."},
  {date:"2021-05-12", text:"Structural vibration detected without seismic activity."},
  {spacer:true},
  {alert:true, text:"UNUSUAL NOISE ACTIVITY REPORTED"},
  {alert:true, text:"INITIAL INVESTIGATION YIELDED: NO RESULTS"},
  {alert:true, text:"SOUND MONITORS RECORDED NOISES FROM THE BUILDING AT NIGHT"},
  {alert:true, text:"WORKER'S SAFETY ADVISED UNTIL ENTITY IS LOCATED"},
  {alert:true, text:"NEW INVESTIGATION SCHEDULE LOGGED"},
  {spacer:true},
  {alert:true, text:"CONTINUING TO MONITOR..."}
];

/* =============================
   HELPERS
   ============================= */
function glitch(text,intensity=0.4){
  const glyphs=["█","▓","▒","░","#","/","_"];
  let out="";
  for(let i=0;i<text.length;i++){
    const ch=text[i];
    if(Math.random()<intensity && ch!=="-") out+=glyphs[Math.floor(Math.random()*glyphs.length)];
    else out+=ch;
  }
  return out;
}

function sleep(ms){return new Promise(r=>setTimeout(r,ms));}

function stashAndClear(el){
  el.dataset.full = el.textContent;
  el.textContent = "";
}

function reveal(el){ el.classList.remove("prehide"); }

function typeFromData(el, speed=10){
  const full = el.dataset.full ?? "";
  el.textContent = "";
  el.classList.add("typeCursor");

  return new Promise(resolve => {
    let i=0;
    const tick = () => {
      el.textContent += full[i] || "";
      i++;
      if(i >= full.length){
        el.classList.remove("typeCursor");
        resolve();
        return;
      }
      setTimeout(tick, speed);
    };
    tick();
  });
}

async function typeLineWithDate(dateEl, sepEl, msgEl, dateSpeed=8, msgSpeed=8){
  await typeFromData(dateEl, dateSpeed);
  sepEl.textContent = " · ";
  await typeFromData(msgEl, msgSpeed);
}

/* =============================
   PREP: STASH + CLEAR EVERYTHING THAT TYPES
   ============================= */
const directiveTitle = document.getElementById("t_directive");
const directiveBody  = document.getElementById("t_console");
const directiveNotice= document.getElementById("t_notice");
const phoneEl        = document.getElementById("t_phone");
const eventTitle     = document.getElementById("t_eventTitle");
const registryTitle  = document.getElementById("t_registryTitle");
const mapTitle       = document.getElementById("t_mapTitle");
const mapWrap        = document.getElementById("mapWrap");

stashAndClear(directiveTitle);
stashAndClear(directiveBody);
stashAndClear(directiveNotice);

phoneEl.dataset.full = glitch("+1-800-772-3419", 0.5);
phoneEl.textContent = "";

stashAndClear(eventTitle);
stashAndClear(registryTitle);
stashAndClear(mapTitle);

// Build event log nodes with content stashed & cleared so nothing shows pre-animation
const eventLogEl = document.getElementById("eventLog");
const eventRows = [];

for(const row of EVENT_LOG){
  if(row.spacer){
    const spacer = document.createElement("div");
    spacer.style.height = "10px";
    eventLogEl.appendChild(spacer);
    continue;
  }

  if(row.alert){
    const div = document.createElement("div");
    div.className = "alertLine";
    const span = document.createElement("span");
    span.textContent = row.text;
    stashAndClear(span);
    div.appendChild(span);
    eventLogEl.appendChild(div);
    eventRows.push({type:"alert", el: span});
    continue;
  }

  const div = document.createElement("div");
  div.className = "logRow";

  const date = document.createElement("span");
  date.className = "logDate";
  date.textContent = row.date;
  stashAndClear(date);

  const sep = document.createElement("span");
  sep.textContent = "";

  const msg = document.createElement("span");
  msg.textContent = row.text;
  stashAndClear(msg);

  div.appendChild(date);
  div.appendChild(sep);
  div.appendChild(msg);
  eventLogEl.appendChild(div);

  eventRows.push({type:"dated", dateEl: date, sepEl: sep, msgEl: msg});
}

/* =============================
   ENTITY LIST (render later)
   ============================= */
function renderEntitiesWithLed(){
  const entityList = document.getElementById("entityList");
  entityList.innerHTML = "";

  ENTITIES.forEach((e, idx) => {
    const li = document.createElement("li");
    li.className = "entityItem ledOn";
    li.style.animationDelay = `${120 + idx*80}ms`;

    const displayName = e.name === "NEMO_03" ? e.name : glitch(e.name);
    li.innerHTML = `
      <div><span class="entityId">${e.id}</span> · ${displayName}</div>
      <div class="entityStatus">STATUS: ${e.status}</div>
    `;

    entityList.appendChild(li);
  });
}

/* =============================
   BOOT SEQUENCE (order)
   ============================= */
window.addEventListener("DOMContentLoaded", async () => {
  await sleep(220);

  // Directive block
  reveal(directiveTitle);
  await typeFromData(directiveTitle, 9);

  reveal(directiveBody);
  await typeFromData(directiveBody, 7);

  reveal(directiveNotice);
  await typeFromData(directiveNotice, 9);

  reveal(phoneEl);
  await typeFromData(phoneEl, 12);

  // Event log
  await sleep(110);
  reveal(eventTitle);
  await typeFromData(eventTitle, 9);

  reveal(eventLogEl);
  for(const row of eventRows){
    if(row.type === "alert") await typeFromData(row.el, 8);
    else await typeLineWithDate(row.dateEl, row.sepEl, row.msgEl, 8, 8);
  }

  // Registry title then entities
  await sleep(140);
  reveal(registryTitle);
  await typeFromData(registryTitle, 9);
  renderEntitiesWithLed();

  // Map title + map appears
  await sleep(140);
  reveal(mapTitle);
  await typeFromData(mapTitle, 9);
  reveal(mapWrap);
  mapWrap.classList.add("ledOn");
});
</script>

</body>
</html>
